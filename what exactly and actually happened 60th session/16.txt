I need to add the v40.40 functions to the score calculation. Let me first add the function calls and then update the combined score:
Action: file_editor str_replace /app/Lichess Bot-AlphaZero-Pure.user.js --old-str "                // v40.39: PAWN FORK DETECTION — See pawn fork threats!
                const pawnForkDetectionScore = v40PawnForkDetectionEval(fen, move, board, activeColor, moveNumber) * 2400.0;
                
                // v40.39: COMBINED v40 SCORE — 100% PAWN CAPTURE CHAIN SUPREME INFLUENCE" --new-str "                // v40.39: PAWN FORK DETECTION — See pawn fork threats!
                const pawnForkDetectionScore = v40PawnForkDetectionEval(fen, move, board, activeColor, moveNumber) * 2400.0;
                
                // ═══════════════════════════════════════════════════════════════════
                // v40.40: MANDATORY RECAPTURE SUPREME — THE ULTIMATE PAWN BLINDNESS FIX!
                // From game: After cxd4, bot played e5 instead of Nxd4! Lost knight!
                // After dxc3, bot played exf6 instead of saving bishop! Lost everything!
                // ═══════════════════════════════════════════════════════════════════
                
                // v40.40: MANDATORY RECAPTURE — When piece under pawn attack, MUST respond!
                const mandatoryRecaptureScore = v40MandatoryRecaptureEval(fen, move, board, activeColor, moveNumber) * 5000.0;
                
                // v40.40: PAWN NEAR PIECE DANGER — See pawns one move from attacking our pieces!
                const pawnNearPieceDangerScore = v40PawnNearPieceDangerEval(fen, move, board, activeColor, moveNumber) * 4000.0;
                
                // v40.40: IMMEDIATE PAWN THREAT — Super strong enforcement for pawn attacks!
                const immediatePawnThreatScore = v40ImmediatePawnThreatEval(fen, move, board, activeColor, moveNumber) * 4500.0;
                
                // v40.40: MULTI-THREAT PAWN — Pawn attacks AND threatens something else!
                const multiThreatPawnScore = v40MultiThreatPawnEval(fen, move, board, activeColor, moveNumber) * 5500.0;
                
                // v40.40: CAPTURE THEN ATTACK — See cxd4, dxc3 patterns!
                const captureThenAttackScore = v40CaptureThenAttackEval(fen, move, board, activeColor, moveNumber) * 4800.0;
                
                // v40.40: PAWN CHAIN PROMOTION — Capture chains leading to promotion!
                const pawnChainPromotionScore = v40PawnChainPromotionEval(fen, move, board, activeColor, moveNumber) * 3500.0;
                
                // v40.40: COMBINED v40 SCORE — 100% MANDATORY RECAPTURE SUPREME INFLUENCE"
Observation: Edit was successful.