
Action: file_editor str_replace /app/Lichess Bot-AlphaZero-Pure.user.js --old-str "function checkPawnAttackOnSquare(board, square, isWhite) {
    const file = square.charCodeAt(0) - 'a'.charCodeAt(0);
    const rank = parseInt(square.charAt(1));
    
    const enemyPawnRank = isWhite ? rank - 1 : rank + 1;" --new-str "function checkPawnAttackOnSquare(board, square, isWhite) {
    const file = square.charCodeAt(0) - 'a'.charCodeAt(0);
    const rank = parseInt(square.charAt(1));
    
    // CRITICAL FIX v40.43: Black pawns attack from higher ranks
    const enemyPawnRank = isWhite ? rank + 1 : rank - 1;"
Observation: Edit was successful.