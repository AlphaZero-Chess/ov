The mate threat detection is there with huge penalties. Let me look at what's happening in the actual move selection to understand why mates are still happening.

Looking at the recent game losses, a key issue seems to be that the bot is playing passive opening moves like d3 instead of d4 (Leonardis Variation). Let me check the opening rules:
Action: $ grep -n "d2d3\|d3\|Leonardis" "/app/Lichess Bot-AlphaZero-Pure.user.js" | head -20
Observation: 1095:    v40PassiveOpeningPenalty: -15000,       // Penalty for passive opening moves (d3, h3, a3 too early)
1248:    // From King's Pawn Game loss: d3 instead of d4, Qc1 passive, poor exchanges
1252:    // v40.8: OPENING AGGRESSION — Prefer d4/e4 over d3/e3
1254:    v40PassivePawnPenalty: -25000,          // d3/e3 when d4/e4 possible = BAD
1321:    // From latest loss: Bot played d3 AGAIN! Also missed Bxh2+ Greek Gift sacrifice
1322:    // This is the FINAL fix - bot will NEVER play d3 when d4 is possible again
1327:    v40D3WhenD4PossiblePenalty: -1000000,   // ABSOLUTE DEATH PENALTY for d3 when d4 is possible
1488:    // Example: Bd3 allowing exd3, losing pawn. Queen ate everything!
1541:    // From game analysis: Bot played Bd3 where exd3 captures bishop
1556:    // Specifically for cases like Bd3 where pawn can take
1578:    // From game analysis: Bot played Qb1 allowing Nxd3 (even exchange)
1738:    // Bot missed: c4-cxd3-dxc2-cxb1=R promotion sequence completely!
1769:    // v40.21: DEEP PAWN CHAIN CALCULATION — From game: missed c4-cxd3-dxc2-cxb1=R
2092:    // From game: Bot played passive d3, allowed Nxf3+ fork, pieces became uncoordinated
2162:    // From game: Bot STILL plays d3 instead of d4, allows knight forks, loses material
2163:    // THE BOT MUST: 1) NEVER play d3/e3 when d4/e4 possible, 2) SEE ALL FORKS 3 moves ahead
2166:    // v40.30: ABSOLUTE OPENING PROHIBITION — d3/e3 are FORBIDDEN in first 10 moves
2168:    v40D3OpeningPenalty: -5000000000,               // MASSIVE penalty for d3 opening
2218:    // From game analysis: Bot STILL plays d3, Qd2-Qd1 tempo waste, allows Nxf3+ forks
2224:    v40RejectD3InOpening: true,                     // HARD REJECT d2d3 in first 10 moves
Exit code: 0