Now I need to replace all occurrences of `currentBoard` with `filterBoard` in this section:
Action: file_editor str_replace /app/Lichess Bot-AlphaZero-Pure.user.js --old-str "            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            // v40.46: CRITICAL CENTRAL PAWN RECAPTURE RULE - THE ULTIMATE FIX!
            // If enemy pawn on d4/e4 (for white) or d5/e5 (for black), MUST recapture!
            // This fixes the bug where bot plays Ne2 instead of Nxd4 in Sicilian!
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            if (CONFIG.v40MustRecaptureModeEnabled && moveCount <= 15) {
                const isWhite = currentFen.includes(' w ');
                const centralSquares = isWhite ? ['d4', 'e4'] : ['d5', 'e5'];
                
                for (const centralSq of centralSquares) {
                    const piece = currentBoard.get(centralSq);
                    if (!piece || piece.toLowerCase() !== 'p') continue;
                    
                    const pieceIsWhite = piece === piece.toUpperCase();
                    // Check if it's an ENEMY pawn on OUR central square
                    if (pieceIsWhite === isWhite) continue;
                    
                    // There's an enemy pawn on our central square!
                    // Check if we CAN recapture
                    if (canPieceCapture(currentBoard, centralSq, isWhite ? 'w' : 'b')) {
                        // We CAN recapture, so we MUST recapture!
                        if (toSquare !== centralSq) {
                            debugLog(\"[V40.46_FILTER]\", `ğŸš«ğŸš«ğŸš« HARD REJECT: ${move} - MUST RECAPTURE ${centralSq} pawn!`);
                            return true;
                        }
                    }
                }
            }
            
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            // v40.46: KNIGHT UNDER PAWN ATTACK - MUST RESPOND!
            // If our knight is under pawn attack, we MUST move it or capture the pawn!
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            if (CONFIG.v40AbsoluteKnightSafetyEnabled && moveCount <= 20) {
                const isWhite = currentFen.includes(' w ');
                const piecesUnderPawnAttack = v40FindPiecesUnderPawnAttack(currentBoard, isWhite ? 'w' : 'b');
                
                // Find knights under pawn attack
                const knightsUnderAttack = piecesUnderPawnAttack.filter(p => p.pieceType === 'n');
                
                if (knightsUnderAttack.length > 0) {
                    let addressesThreat = false;
                    
                    for (const knight of knightsUnderAttack) {
                        // Moving the attacked knight
                        if (fromSquare === knight.square) {
                            addressesThreat = true;
                            break;
                        }
                        
                        // Capturing an attacking pawn
                        if (knight.attackers.includes(toSquare)) {
                            addressesThreat = true;
                            break;
                        }
                    }
                    
                    if (!addressesThreat) {
                        debugLog(\"[V40.46_FILTER]\", `ğŸš«ğŸš«ğŸš« HARD REJECT: ${move} - Knight ${knightsUnderAttack[0].square} under pawn attack!`);
                        return true;
                    }
                }
            }
            
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            // v40.46: DON'T PUSH PAWNS WHEN PIECES ARE HANGING!
            // If we have a piece attacked and not defended, we MUST defend it first!
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            if (moveCount <= 20) {
                const isWhite = currentFen.includes(' w ');
                const movingPiece = currentBoard.get(fromSquare);
                
                if (movingPiece && movingPiece.toLowerCase() === 'p') {
                    // We're pushing a pawn - check if we have hanging pieces
                    const hangingPieces = findHangingPiecesV40_9(currentBoard, isWhite ? 'w' : 'b');
                    
                    // Only reject if valuable piece is hanging (knight/bishop/rook/queen)
                    const valuableHanging = hangingPieces.filter(p => p.value >= 300);
                    
                    if (valuableHanging.length > 0) {
                        debugLog(\"[V40.46_FILTER]\", `ğŸš«ğŸš«ğŸš« HARD REJECT: Pawn push ${move} when ${valuableHanging[0].piece}@${valuableHanging[0].square} is hanging!`);
                        return true;
                    }
                }
            }
            
            return false;
        };" --new-str "            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            // v40.46: CRITICAL CENTRAL PAWN RECAPTURE RULE - THE ULTIMATE FIX!
            // If enemy pawn on d4/e4 (for white) or d5/e5 (for black), MUST recapture!
            // This fixes the bug where bot plays Ne2 instead of Nxd4 in Sicilian!
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            if (CONFIG.v40MustRecaptureModeEnabled && moveCount <= 15) {
                const isWhite = currentFen.includes(' w ');
                const centralSquares = isWhite ? ['d4', 'e4'] : ['d5', 'e5'];
                
                for (const centralSq of centralSquares) {
                    const piece = filterBoard.get(centralSq);
                    if (!piece || piece.toLowerCase() !== 'p') continue;
                    
                    const pieceIsWhite = piece === piece.toUpperCase();
                    // Check if it's an ENEMY pawn on OUR central square
                    if (pieceIsWhite === isWhite) continue;
                    
                    // There's an enemy pawn on our central square!
                    // Check if we CAN recapture
                    if (canPieceCapture(filterBoard, centralSq, isWhite ? 'w' : 'b')) {
                        // We CAN recapture, so we MUST recapture!
                        if (toSquare !== centralSq) {
                            debugLog(\"[V40.46_FILTER]\", `ğŸš«ğŸš«ğŸš« HARD REJECT: ${move} - MUST RECAPTURE ${centralSq} pawn!`);
                            return true;
                        }
                    }
                }
            }
            
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            // v40.46: KNIGHT UNDER PAWN ATTACK - MUST RESPOND!
            // If our knight is under pawn attack, we MUST move it or capture the pawn!
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            if (CONFIG.v40AbsoluteKnightSafetyEnabled && moveCount <= 20) {
                const isWhite = currentFen.includes(' w ');
                const piecesUnderPawnAttack = v40FindPiecesUnderPawnAttack(filterBoard, isWhite ? 'w' : 'b');
                
                // Find knights under pawn attack
                const knightsUnderAttack = piecesUnderPawnAttack.filter(p => p.pieceType === 'n');
                
                if (knightsUnderAttack.length > 0) {
                    let addressesThreat = false;
                    
                    for (const knight of knightsUnderAttack) {
                        // Moving the attacked knight
                        if (fromSquare === knight.square) {
                            addressesThreat = true;
                            break;
                        }
                        
                        // Capturing an attacking pawn
                        if (knight.attackers.includes(toSquare)) {
                            addressesThreat = true;
                            break;
                        }
                    }
                    
                    if (!addressesThreat) {
                        debugLog(\"[V40.46_FILTER]\", `ğŸš«ğŸš«ğŸš« HARD REJECT: ${move} - Knight ${knightsUnderAttack[0].square} under pawn attack!`);
                        return true;
                    }
                }
            }
            
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            // v40.46: DON'T PUSH PAWNS WHEN PIECES ARE HANGING!
            // If we have a piece attacked and not defended, we MUST defend it first!
            // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            if (moveCount <= 20) {
                const isWhite = currentFen.includes(' w ');
                const movingPiece = filterBoard.get(fromSquare);
                
                if (movingPiece && movingPiece.toLowerCase() === 'p') {
                    // We're pushing a pawn - check if we have hanging pieces
                    const hangingPieces = findHangingPiecesV40_9(filterBoard, isWhite ? 'w' : 'b');
                    
                    // Only reject if valuable piece is hanging (knight/bishop/rook/queen)
                    const valuableHanging = hangingPieces.filter(p => p.value >= 300);
                    
                    if (valuableHanging.length > 0) {
                        debugLog(\"[V40.46_FILTER]\", `ğŸš«ğŸš«ğŸš« HARD REJECT: Pawn push ${move} when ${valuableHanging[0].piece}@${valuableHanging[0].square} is hanging!`);
                        return true;
                    }
                }
            }
            
            return false;
        };"
Observation: Edit was successful.